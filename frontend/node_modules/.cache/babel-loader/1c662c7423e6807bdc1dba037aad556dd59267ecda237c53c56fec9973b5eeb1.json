{"ast":null,"code":"var _jsxFileName = \"E:\\\\AN3\\\\SEM2\\\\project-MichiMauser\\\\frontend\\\\src\\\\pages\\\\Auth\\\\Recover.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport \"../../styles/Login.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport emailjs from '@emailjs/browser';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Recover() {\n  _s();\n  const [email, setEmail] = useState('');\n  const navigate = useNavigate();\n  const [newPass, setNewPass] = useState('');\n  const generateRandomPassword = async (length = 10) => {\n    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()';\n    let password = '';\n    for (let i = 0; i < length; i++) {\n      password += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return password;\n  };\n  useEffect(() => {\n    document.body.classList.add('login-page');\n    return () => {\n      document.body.classList.remove('login-page');\n    };\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!email) {\n      alert(\"Please enter your email address.\");\n      return;\n    }\n    const generatedPass = await generateRandomPassword();\n    console.log(generatedPass);\n    setNewPass(generatedPass);\n    try {\n      const respone = await axios.post(\"http://localhost:8080/user/update\", {\n        email,\n        'password': generatedPass\n      });\n      console.log(respone.data);\n    } catch (error) {\n      console.log(error);\n    }\n    emailjs.send('service_0pcwesa', 'template_bpsg7qx', {\n      passcode: newPass,\n      email: email\n    }, 'vTmuqbpyrS7t1pokZ').then(response => {\n      console.log('SUCCESS!', response.status, response.text);\n      alert(\"Recovery email has been sent!\");\n      setEmail('');\n    }).catch(err => {\n      console.error('FAILED...', err);\n      alert(\"Failed to send recovery email. Please try again.\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex justify-content-center align-items-center min-vh-100\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        className: \"form-control mb-3\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary w-100\",\n        children: \"Recover password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary w-100 mt-2\",\n        onClick: () => navigate(\"/login\"),\n        children: \"To login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(Recover, \"PZjlXmPva0+65Qrc7rm247UcjOo=\", false, function () {\n  return [useNavigate];\n});\n_c = Recover;\nexport default Recover;\nvar _c;\n$RefreshReg$(_c, \"Recover\");","map":{"version":3,"names":["useEffect","useState","Container","useNavigate","emailjs","axios","jsxDEV","_jsxDEV","Recover","_s","email","setEmail","navigate","newPass","setNewPass","generateRandomPassword","length","chars","password","i","charAt","Math","floor","random","document","body","classList","add","remove","handleSubmit","e","preventDefault","alert","generatedPass","console","log","respone","post","data","error","send","passcode","then","response","status","text","catch","err","className","children","onSubmit","type","placeholder","value","onChange","target","required","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["E:/AN3/SEM2/project-MichiMauser/frontend/src/pages/Auth/Recover.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport \"../../styles/Login.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport emailjs from '@emailjs/browser';\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nfunction Recover() {\r\n    const [email, setEmail] = useState('');\r\n    const navigate = useNavigate();\r\n    const [newPass, setNewPass] = useState('');\r\n\r\n    const generateRandomPassword = async(length = 10) => {\r\n        const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()';\r\n        let password = '';\r\n        for (let i = 0; i < length; i++) {\r\n            password += chars.charAt(Math.floor(Math.random() * chars.length));\r\n        }\r\n        return password;\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.body.classList.add('login-page');\r\n        return () => {\r\n            document.body.classList.remove('login-page');\r\n        };\r\n    }, []);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault(); \r\n\r\n        if (!email) {\r\n            alert(\"Please enter your email address.\");\r\n            return;\r\n        }\r\n\r\n        const generatedPass = await generateRandomPassword();\r\n        console.log(generatedPass);\r\n        setNewPass(generatedPass);\r\n\r\n        try {\r\n            const respone = await axios.post(\"http://localhost:8080/user/update\",{\r\n                email,\r\n                'password': generatedPass\r\n            }\r\n            \r\n            )\r\n            console.log(respone.data)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n        emailjs.send(\r\n            'service_0pcwesa',     \r\n            'template_bpsg7qx',    \r\n            {\r\n                passcode: newPass,\r\n                email: email\r\n            },\r\n            'vTmuqbpyrS7t1pokZ'\r\n           \r\n        )\r\n        .then((response) => {\r\n            console.log('SUCCESS!', response.status, response.text);\r\n            alert(\"Recovery email has been sent!\");\r\n            setEmail('');\r\n        })\r\n        .catch((err) => {\r\n            console.error('FAILED...', err);\r\n            alert(\"Failed to send recovery email. Please try again.\");\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Container className=\"d-flex justify-content-center align-items-center min-vh-100\">\r\n            <form className=\"login-form\" onSubmit={handleSubmit}>\r\n                <input\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    className=\"form-control mb-3\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    required\r\n                />\r\n                <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n                    Recover password\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary w-100 mt-2\"\r\n                    onClick={() => navigate(\"/login\")}\r\n                >\r\n                    To login\r\n                </button>\r\n            </form>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Recover;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}