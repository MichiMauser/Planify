{"ast":null,"code":"import{useEffect,useState}from\"react\";import{createContext}from\"react\";import axios from\"axios\";import BasicNav from\"../../components/Navbar\";import{Container,Row,Col,Card,Button,Spinner}from'react-bootstrap';import UserViewModal from\"../../components/modals/userViewModal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const UserContext=/*#__PURE__*/createContext();function DashBoard(){const[users,setUsers]=useState([]);const[notebook,setNotebooks]=useState([]);const[viewUser,setViewUser]=useState(null);const[loadState,setLoadState]=useState(true);const[infoModal,setInfoModal]=useState(false);const fetchUsers=async()=>{setLoadState(true);try{const response=await axios.get(\"http://localhost:8080/user\");console.log('Fetched users:',response.data);setUsers(response.data);}catch(error){console.error(\"Error fetching users:\",error);}finally{setLoadState(false);}};useEffect(()=>{fetchUsers();},[]);const handleViewProfile=async user=>{setViewUser(user);setInfoModal(true);try{const response=await axios.get(\"http://localhost:8080/notebooks\",{params:{userId:user.id}});setNotebooks(response.data);}catch(error){console.log(\"Error\",error);}};const handleDeleteUser=async user=>{setViewUser(user);try{await axios.post(`http://localhost:8080/user/delete/${user.id}`);fetchUsers();}catch(error){console.log(\"Error\",error);}console.log(users);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(UserContext.Provider,{value:{viewUser,notebook,setNotebooks},children:[/*#__PURE__*/_jsx(BasicNav,{}),/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-5\",children:\"Welcome to Admin Area!\"}),loadState===false?/*#__PURE__*/_jsx(Row,{children:users.map(user=>/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-4\",children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[user.firstName,\" \",user.lastName,\" \",user.gender]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Id:\"}),\" \",user.id]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Password:\"}),\" \",user.password]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"me-5\",onClick:()=>handleViewProfile(user),children:\"View Profile\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"me-5\",onClick:()=>handleDeleteUser(user),children:\" Delete\"}),/*#__PURE__*/_jsx(Button,{variant:\"warning\",children:\"Update\"})]})})},user.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading users...\"})]}),/*#__PURE__*/_jsx(UserViewModal,{show:infoModal,onHide:()=>setInfoModal(false)})]})]})});}export default DashBoard;","map":{"version":3,"names":["useEffect","useState","createContext","axios","BasicNav","Container","Row","Col","Card","Button","Spinner","UserViewModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserContext","DashBoard","users","setUsers","notebook","setNotebooks","viewUser","setViewUser","loadState","setLoadState","infoModal","setInfoModal","fetchUsers","response","get","console","log","data","error","handleViewProfile","user","params","userId","id","handleDeleteUser","post","children","Provider","value","className","map","md","Body","Title","firstName","lastName","gender","Text","email","password","variant","onClick","animation","show","onHide"],"sources":["E:/AN3/SEM2/project-MichiMauser/frontend/src/pages/Home/AdminBoard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { createContext } from \"react\";\r\nimport axios from \"axios\";            \r\nimport BasicNav from \"../../components/Navbar\";\r\nimport { Container, Row, Col, Card, Button, Spinner } from 'react-bootstrap';\r\nimport UserViewModal from \"../../components/modals/userViewModal\";\r\n\r\nexport const UserContext = createContext();\r\nfunction DashBoard() {\r\n    const [users, setUsers] = useState([]);\r\n    const [notebook, setNotebooks] = useState([]);\r\n    const [viewUser, setViewUser] = useState(null);\r\n    const [loadState, setLoadState] = useState(true);\r\n    const [infoModal, setInfoModal] = useState(false);\r\n    const fetchUsers = async () => {\r\n        setLoadState(true);\r\n        try {\r\n            const response = await axios.get(\"http://localhost:8080/user\");\r\n            \r\n            console.log('Fetched users:', response.data);  \r\n            setUsers(response.data);                       \r\n        } catch (error) {\r\n            console.error(\"Error fetching users:\", error);\r\n        }finally{\r\n            setLoadState(false);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        fetchUsers();\r\n        \r\n    }, []);\r\n\r\n    const handleViewProfile = async(user) =>{\r\n        setViewUser(user);\r\n        setInfoModal(true);\r\n        \r\n\r\n        try{\r\n            const response = await axios.get(\"http://localhost:8080/notebooks\", {\r\n                params: {\r\n                    userId: user.id\r\n                }\r\n            });\r\n           \r\n          \r\n            setNotebooks(response.data)\r\n            \r\n\r\n        }catch ( error){\r\n            console.log(\"Error\", error)\r\n        }\r\n\r\n    }\r\n\r\n    const handleDeleteUser = async(user) => {\r\n\r\n        setViewUser(user);\r\n        \r\n        try {\r\n            await axios.post(`http://localhost:8080/user/delete/${user.id}`)\r\n            fetchUsers();\r\n           \r\n            \r\n        }catch(error){\r\n            console.log(\"Error\", error)\r\n        }\r\n        console.log(users)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <UserContext.Provider value={{viewUser,notebook, setNotebooks}}>\r\n        <BasicNav />\r\n        <Container className=\"mt-5\">\r\n           \r\n            <h1 className=\"text-center mb-5\">Welcome to Admin Area!</h1>\r\n\r\n            {loadState === false ? (\r\n                <Row>\r\n                    {users.map(user => (\r\n                        <Col key={user.id} md={4} className=\"mb-4\">\r\n                            <Card className=\"shadow-sm\">\r\n                                <Card.Body>\r\n                                    <Card.Title>{user.firstName} {user.lastName} {user.gender}</Card.Title>\r\n                                    <Card.Text><strong>Id:</strong> {user.id}</Card.Text>\r\n                                    <Card.Text><strong>Email:</strong> {user.email}</Card.Text>\r\n                                    <Card.Text><strong>Password:</strong> {user.password}</Card.Text>\r\n                                    <Button variant=\"primary\" className=\"me-5\" onClick={ () => handleViewProfile(user) }>View Profile</Button>\r\n                                    <Button variant=\"danger\" className= \"me-5\" onClick={ () => handleDeleteUser(user) }> Delete</Button>\r\n                                    <Button variant=\"warning\" >Update</Button>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Col>\r\n                    ))}\r\n                </Row>\r\n            ) : (\r\n                <div className=\"text-center\">\r\n                    <Spinner animation=\"border\" variant=\"primary\" />\r\n                    <p>Loading users...</p>\r\n                </div>\r\n            )}\r\n            <UserViewModal show = {infoModal} onHide= {() => setInfoModal(false)}/>\r\n        </Container>\r\n        </UserContext.Provider>\r\n    </>\r\n    );\r\n\r\n}\r\n\r\nexport default DashBoard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}